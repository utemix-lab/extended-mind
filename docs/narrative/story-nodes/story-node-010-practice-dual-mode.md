# story-node-010-practice-dual-mode

## Название

Practices: структура и история — два независимых режима

## Что произошло

Зафиксировано разделение Practices на два независимых режима чтения: структурный (для пользователя — связи с доменами и персонажами) и нарративный (для системы — траектория через story-nodes). Practice не "знает" своих story-nodes, story-nodes ссылаются на Practice.

## Почему это было необходимо

Возникал риск смешения: использовать story-nodes для навигации по Practices или выводить историю автора в пользовательское чтение. Это превратило бы Practice в заложника авторского пути, а пользователя — в заложника истории.

## Принятое решение

Строгое разделение режимов:
- Структурный: Practice ↔ Domain ↔ Character (edges в universe.json)
- Нарративный: story-node.related_practices (без обратных ссылок)

Защитное правило: никогда не смешивать режимы.

## Что изменилось в системе

– Создан ADR-007 (practice-dual-mode)
– Создана спецификация PRACTICES_SPEC.md
– Шаблон story-node получил поле `Related Practices`
– Обновлены story-nodes 003, 004, 008, 009 с привязкой к practice-direction

## Открытый вопрос

Как LLM будет переключаться между режимами? Нужен ли явный параметр "mode: structural | narrative" в запросах?

## Что это закладывает

Архитектуру, в которой один Practice: для автора — путь во времени, для пользователя — карта возможностей. Система может генерировать разный контент из одного источника, не смешивая аудитории и цели.

---

## Narrative

**evidence:**
- ADR-007: practice-dual-mode
- specs/PRACTICES_SPEC.md
- story-nodes с `related_practices`

**moment:**
Стало ясно: Practice — это не "про что", а "как двигаться". И движение автора во времени — не то же самое, что карта для пользователя.

**voice_hint:**
- narrator: system
- tone: technical

---

**Related Practices:**
- (мета-уровень — относится к архитектуре системы, не к конкретной практике)

**Refs:**
- ADR: ADR-007
- specs: PRACTICES_SPEC.md
- checkpoint: 2026-01-27
