# MEDIA PIPELINE (TG generator rules)

Документ-правило для генерации внешних новостей из System Fix.

## Источник
- **Story-nodes** — основной источник для постов
- **ADR** — подтверждает архитектурный сдвиг
- **System Fix** — упаковка изменений, не источник постов

## Правило отбора
Story-node участвует в генерации, если:
- содержит `checkpoint: YYYY-MM-DD` в **Refs**
- отражает архитектурный сдвиг (ADR есть или подразумевается)

## Пакетный выпуск
Один System Fix может дать **1–3 поста**:
- если есть несколько story-nodes с тем же `checkpoint`
- порядок: архитектурные сдвиги → новые механизмы → UI/visual changes

## Форматы
- 1 абзац (consumer)
- 5 bullets (partner)
- 3 слайда (investor)
- tutorial outline (user)

## Ограничение длины (TG)
- Каждый пост ≤ 1000 знаков (включая пробелы).

## Режим работы
- Генератор читает **story-nodes** по checkpoint date
- Разделяет посты `---`
- Не требует фиксации каждого шага, только значимых сдвигов

## See also
- `SYSTEM_FUNCTIONS.md`
- `SYSTEM_CHECKS.md`
